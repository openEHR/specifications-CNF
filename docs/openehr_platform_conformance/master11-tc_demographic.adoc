= Functional Conformance: Demographic Component

Specifications:

* Service Interfaces:
** {openehr_sm_openehr_platform}#_demographic_package[Abstract Demographic Service Model^]
* Information Models:
** {openehr_rm_demographic}[Demographic IM^]
** {openehr_rm_common}[Common IM^]
** {openehr_rm_data_structures}[Data Structures IM^]
** {openehr_rm_data_types}[Data Types IM^]
** {openehr_rm_support}[Support IM^]
** {openehr_rm_common}#_change_control_package[Versioning^]

:i_demographic_service_link: {openehr_sm_openehr_platform}#_i_demographic_service_interface
:i_party_link: {openehr_sm_openehr_platform}#_i_party_interface
:i_party_relationship_link: {openehr_sm_openehr_platform}#_i_party_relationship_interface

[cols="1,2,3,2,1", options="header"]
|===
|Capability             |Conformance Point +
                         (Service Model call)       |Description          |Test case script      |REST script

.5+|*Party +
    Operations*

    |{i_demographic_service_link}[`I_DEMOGRAPHIC_SERVICE`^] +
     `__.create_party()__`
    |Create a new Party; Party id generated by system.
 .5+|link:{openehr_cnf_scripts_dir}/tc_dem-party.txt[tc_dem-party^]
 .5+|link:{openehr_cnf_scripts_dir}/REST/postman/tc_dem-party.json[postman^]

    |{i_party_link}[`I_PARTY`^] +
     `__.get_party()__`
    |Retrieve a Party, current version.

    |{i_party_link}[`I_PARTY`^] +
     `__.get_party_at_time()__`
    |Retrieve a Party, at a specified time.

    |{i_party_link}[`I_PARTY`^] +
     `__.update_party()__`
    |Update a Party.

    |{i_party_link}[`I_PARTY`^] +
     `__.delete_party()__`
    |Delete a Party.

.5+|*Party +
    Relationship +
    Operations*

    |{i_demographic_service_link}[`I_DEMOGRAPHIC_SERVICE`^] +
     `__.create_party_relationship()__`
    |Create a new Party relationship; Relationship id generated by system.
 .5+|link:{openehr_cnf_scripts_dir}/tc_dem-party_rel.txt[tc_dem-party_rel^]
 .5+|link:{openehr_cnf_scripts_dir}/REST/postman/tc_dem-party_rel.json[postman^]

    |{i_party_relationship_link}[`I_PARTY_RELATIONSHIP`^] +
     `__.get_party_relationship()__`
    |Retrieve a Party relationship, current version.

    |{i_party_relationship_link}[`I_PARTY_RELATIONSHIP`^] +
     `__.get_party_relationship_at_time()__`
    |Retrieve a Party relationship, at a specified time.

    |{i_party_relationship_link}[`I_PARTY_RELATIONSHIP`^] +
     `__.update_party_relationship()__`
    |Update a Party relationship.

    |{i_party_relationship_link}[`I_PARTY_RELATIONSHIP`^] +
     `__.delete_party_relationship()__`
    |Delete a Party relationship.

.2+|*Versioning*

    |{i_party_link}[`I_PARTY`^] +
     `__.get_party_at_version()__`
    |Retrieve a Party, current version.
 .2+|link:{openehr_cnf_scripts_dir}/tc_dem-vers.txt[tc_dem-vers^]
 .2+|link:{openehr_cnf_scripts_dir}/REST/postman/tc_dem-vers.json[postman^]

    |{i_party_relationship_link}[`I_PARTY_RELATIONSHIP`^] +
     `__.get_party_relationship_at_version()__`
    |Retrieve a Party relationship, current version.

.4+|*Archetype +
    Validation*

 .2+|{i_demographic_service_link}[`I_DEMOGRAPHIC_SERVICE`^] +
     `__.create_party()__`
    |Attempt to create new Party; reject invalid archetype structure.
 .4+|link:{openehr_cnf_scripts_dir}/tc_dem-arch_val.txt[tc_dem-arch_val^]
 .4+|link:{openehr_cnf_scripts_dir}/REST/postman/tc_dem-arch_val.json[postman^]

    |Attempt to create new Party; reject invalid archetype.
                                                                            
 .2+|{i_demographic_service_link}[`I_PARTY_SERVICE`^] +
     `__.update_party()__`
    |Attempt to update Party; reject invalid archetype structure.

    |Attempt to update Party; reject invalid archetype.
                                                                            
|===

