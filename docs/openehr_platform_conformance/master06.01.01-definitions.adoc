== Definitions Component

Specifications:
    
* Service Interfaces:
** {openehr_sm_openehr_platform}#_ehr_package[Abstract EHR Service Model^]
** {openehr_ehr_rest_api}[EHR REST API^]
* Language / formalism Models:
** {openehr_am_adl14}[ADL 1.4^]
** {openehr_am_aom14}[AOM 1.4^]
** {openehr_am_adl2}[ADL 2^]
** {openehr_am_aom2}[AOM 2^]
** {openehr_am_id}[Archetype Identification^]

:i_definition_adl14_link: {openehr_sm_openehr_platform}#_i_definition_adl14_interface
:i_definition_adl2_link: {openehr_sm_openehr_platform}#_i_definition_adl2_interface
:i_definition_query_link: {openehr_sm_openehr_platform}#_i_definition_query_interface

[cols="1,2,3,2,1", options="header"]
|===
|Capability             |Conformance Point +
                         (Service Model call)   |Description                            |Test case script      |REST script

.3+|*ADL 1.4 Archetype +
    provisioning*       
    
    |{i_definition_adl14_link}[`I_DEFINITION_ADL14`^] +
     `__.upload_archetype()__`
    |Upload an ADL 1.4 archetype
 .3+|link:{openehr_cnf_scripts_dir}/tc_def-adl14_prov.txt[tc_def-adl14_prov^]
 .3+|link:{openehr_cnf_scripts_dir}/REST/postman/tc_def-adl14_prov.json[postman^]
 
    |{i_definition_adl14_link}[`I_DEFINITION_ADL14`^] +
     `__.get_archetype()__`
    |Get an ADL 1.4 archetype by archetype_id

    |{i_definition_adl14_link}[`I_DEFINITION_ADL14`^] +
     `__.list_all_archetypes()__`            
    |List all available ADL 1.4 archetypes

.3+|*ADL 1.4 +
    OPT +
    provisioning*       
    
    |{i_definition_adl14_link}[`I_DEFINITION_ADL14`^] +
     `__.upload_opt()__`            
    |Upload an ADL 1.4-based OPT
 .3+|link:{openehr_cnf_scripts_dir}/tc_def-opt14_prov.txt[tc_def-opt14_prov^]
 .3+|link:{openehr_cnf_scripts_dir}/REST/postman/tc_def-opt14_prov.json[postman^]

    |{i_definition_adl14_link}[`I_DEFINITION_ADL14`^] +
     `__.get_opt()__`               
    |Get template by template_id

    |{i_definition_adl14_link}[`I_DEFINITION_ADL14`^] +
     `__.list_all_opts()__`
    |List all available Operational Templates


.3+|*ADL2 +
    Archetype +
    provisioning*       
    
    |{i_definition_adl2_link}[`I_DEFINITION_ADL2`^] +
     `__.upload_artefact()__`
    |Upload an ADL 2 archetype
 .6+|link:{openehr_cnf_scripts_dir}/tc_def-adl2_prov.txt[tc_def-adl2_prov^]
 .6+|link:{openehr_cnf_scripts_dir}/REST/postman/tc_def-adl2_prov.json[postman^]
 
    |{i_definition_adl2_link}[`I_DEFINITION_ADL2`^] +
     `.__get_artefact()__`
    |Get an ADL 2 archetype by archetype_id

    |{i_definition_adl2_link}[`I_DEFINITION_ADL2`^] +
     `__.list_all_archetypes()__`
    |List all available ADL 2 archetypes

.3+|*ADL2 +
    OPT +
    provisioning*       
    
    |{i_definition_adl2_link}[`I_DEFINITION_ADL2`^] +
     `__.upload_artefact()__`
    |Upload an OPT2 template.

    |{i_definition_adl2_link}[`I_DEFINITION_ADL2`^] +
     `__.get_artefact()__`               
    |Get OPT2 template by template_id.

    |{i_definition_adl2_link}[`I_DEFINITION_ADL2`^] +
     `__.list_all_opts()__`
    |List all available OPT2 templates.

.4+|*Query +
    provisioning*       
    
    |{i_definition_query_link}[`I_DEFINITION_QUERY`^] +
     `__.register_query()__`
    |Register a query under an optional name.
 .4+|link:{openehr_cnf_scripts_dir}/tc_def-qry_prov.txt[tc_def-qry_prov^]
 .4+|link:{openehr_cnf_scripts_dir}/REST/postman/tc_def-qry_prov.json[postman^]
 
    |{i_definition_query_link}[`I_DEFINITION_QUERY`^] +
     `__.list_all_queries()__`
    |List all registered queries.

    |{i_definition_query_link}[`I_DEFINITION_QUERY`^] +
     `__.list_all_matching_queries()__`
    |List registered queries matching a pattern.

    |{i_definition_query_link}[`I_DEFINITION_QUERY`^] +
     `__.delete_query()__`
    |Delete a query.

|===
