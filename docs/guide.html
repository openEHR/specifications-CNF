<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="description" content="openEHR Conformance Guide">
<meta name="keywords" content="conformance">
<title>openEHR Conformance Guide</title>
<link rel="stylesheet" href="https://specifications.openehr.org/styles/openehr.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_openehr_conformance_guide">openEHR Conformance Guide</a>
<ul class="sectlevel1">
<li><a href="#_amendment_record">Amendment Record</a></li>
<li><a href="#_acknowledgements">Acknowledgements</a>
<ul class="sectlevel2">
<li><a href="#_principal_authors">Principal Authors</a></li>
<li><a href="#_trademarks">Trademarks</a></li>
</ul>
</li>
<li><a href="#_preface">1. Preface</a>
<ul class="sectlevel2">
<li><a href="#_purpose">1.1. Purpose</a></li>
<li><a href="#_related_documents">1.2. Related Documents</a></li>
<li><a href="#_status">1.3. Status</a></li>
<li><a href="#_feedback">1.4. Feedback</a></li>
</ul>
</li>
<li><a href="#_glossary_of_terms_and_acronyms">2. Glossary of Terms and Acronyms</a></li>
<li><a href="#_overview">3. Overview</a>
<ul class="sectlevel2">
<li><a href="#_goals">3.1. Goals</a></li>
</ul>
</li>
<li><a href="#_conformance_framework">4. Conformance Framework</a>
<ul class="sectlevel2">
<li><a href="#_artefacts">4.1. Artefacts</a></li>
<li><a href="#_product_categories">4.2. Product Categories</a></li>
<li><a href="#_platform_test_framework">4.3. Platform Test Framework</a></li>
<li><a href="#_test_framework_implementation_for_a_technology">4.4. Test Framework Implementation for a Technology</a></li>
</ul>
</li>
<li><a href="#_evaluation_environment">5. Evaluation Environment</a>
<ul class="sectlevel2">
<li><a href="#_system_under_test_sut">5.1. System Under Test (SUT)</a>
<ul class="sectlevel3">
<li><a href="#_general_description">5.1.1. General description</a></li>
<li><a href="#_platform_abstract_service_model">5.1.2. Platform Abstract Service Model</a></li>
</ul>
</li>
<li><a href="#_manual_testing">5.2. Manual Testing</a></li>
<li><a href="#_automated_testing">5.3. Automated Testing</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock text-center">
<div class="content">
<img src="https://specifications.openehr.org/images/openEHR_logo_RGB.svg" alt="openEHR logo">
</div>
</div>
</div>
</div>
<h1 id="_openehr_conformance_guide" class="sect0"><a class="anchor" href="#_openehr_conformance_guide"></a>openEHR Conformance Guide</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all fit-content spread">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong>Issuer</strong>: <a href="https://www.openehr.org/programs/specification" target="_blank" rel="noopener">openEHR Specification Program</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Release</strong>: CNF latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Status</strong>: DEVELOPMENT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Revision</strong>: <a href="#latest_issue">[latest_issue]</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Date</strong>: <a href="#latest_issue_date">[latest_issue_date]</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Keywords</strong>: conformance</p></td>
</tr>
</tbody>
</table>
<div class="imageblock text-center">
<div class="content">
<object type="image/svg+xml" data="openehr_block_diagram.svg" width="60%"><span class="alt">openEHR components</span></object>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">&#169; 2021 - 2022 The openEHR Foundation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><a href="https://www.openehr.org" target="_blank" rel="noopener">The openEHR Foundation</a> is an independent, non-profit foundation, facilitating the sharing of health records by consumers and clinicians via open specifications, clinical models and open platform implementations.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Licence</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="https://specifications.openehr.org/images/cc-by-nd-88x31.png" alt="image"></span> Creative Commons Attribution-NoDerivs 3.0 Unported. <a href="https://creativecommons.org/licenses/by-nd/3.0/" class="bare">https://creativecommons.org/licenses/by-nd/3.0/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Support</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues: <a href="https://specifications.openehr.org/components/CNF/open_issues" target="_blank" rel="noopener">Problem Reports</a><br>
 Web: <a href="https://specifications.openehr.org" target="_blank" rel="noopener">specifications.openEHR.org</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_amendment_record"><a class="anchor" href="#_amendment_record"></a>Amendment Record</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 54.5454%;">
<col style="width: 18.1818%;">
<col style="width: 18.1819%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Details</th>
<th class="tableblock halign-left valign-top">Raiser</th>
<th class="tableblock halign-left valign-top">Completed</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>CNF Release 1.0.?</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue"></a>0.5.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECCNF-6" target="_blank" rel="noopener">SPECCNF-6</a>: Initial Writing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">P Pazos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue_date"></a>22 Oct 2021</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_acknowledgements"><a class="anchor" href="#_acknowledgements"></a>Acknowledgements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This specification was developed and is maintained by the <a href="https://www.openehr.org/programs/specification/editorialcommittee" target="_blank" rel="noopener">openEHR Specifications Editorial Committee (SEC)</a>.</p>
</div>
<div class="sect2">
<h3 id="_principal_authors"><a class="anchor" href="#_principal_authors"></a>Principal Authors</h3>
<div class="ulist">
<ul>
<li>
<p>Thomas Beale, Ars Semantica, UK; openEHR International Board</p>
</li>
<li>
<p>Pablo Pazos Gutierrez &lt;<a href="mailto:pablo.pazos@cabolabs.com">pablo.pazos@cabolabs.com</a>&gt;</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_trademarks"><a class="anchor" href="#_trademarks"></a>Trademarks</h3>
<div class="ulist">
<ul>
<li>
<p>'openEHR' is a trademark of openEHR Foundation</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preface"><a class="anchor" href="#_preface"></a>1. Preface</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_purpose"><a class="anchor" href="#_purpose"></a>1.1. Purpose</h3>
<div class="paragraph">
<p>This guide describes the openEHR Conformance Teting artefacts and methodology. The audience of this document includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Software development organisations developing HIT systems;</p>
</li>
<li>
<p>Customer organisations.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_documents"><a class="anchor" href="#_related_documents"></a>1.2. Related Documents</h3>
<div class="paragraph">
<p>Useful references for reading this document include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://specifications.openehr.org/releases/BASE/latest/architecture_overview.html" target="_blank" rel="noopener">openEHR Architecture Overview</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_status"><a class="anchor" href="#_status"></a>1.3. Status</h3>
<div class="paragraph">
<p>This specification is in the DEVELOPMENT state. The development version of this document can be found at <a href="https://specifications.openehr.org/releases/CNF/latest/openehr_conformance_guide.html" target="_blank" rel="noopener">https://specifications.openehr.org/releases/CNF/latest/openehr_conformance_guide.html</a>.</p>
</div>
<div class="paragraph">
<p>Known omissions or questions are indicated in the text with a 'to be determined' paragraph, as follows:</p>
</div>
<div class="paragraph tbd">
<p><strong>TBD</strong>: (example To Be Determined paragraph)</p>
</div>
</div>
<div class="sect2">
<h3 id="_feedback"><a class="anchor" href="#_feedback"></a>1.4. Feedback</h3>
<div class="paragraph">
<p>Feedback may be provided on the <a href="https://discourse.openehr.org/c/implem/conformance" target="_blank" rel="noopener">openEHR Conformance forum</a>.</p>
</div>
<div class="paragraph">
<p>Issues may be raised on the <a href="https://specifications.openehr.org/components/CNF/open_issues" target="_blank" rel="noopener">specifications Problem Report tracker</a>.</p>
</div>
<div class="paragraph">
<p>To see changes made due to previously reported issues, see the <a href="https://specifications.openehr.org/components/CNF/history" target="_blank" rel="noopener">CNF component Change Request tracker</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_glossary_of_terms_and_acronyms"><a class="anchor" href="#_glossary_of_terms_and_acronyms"></a>2. Glossary of Terms and Acronyms</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following terms and acronyms are used in this document.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application Programmer Interface.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CDS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clinical Decision Support.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">REST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener">Representational state transfer</a>,
                         a type of web service. REST-compliant Web services allow requesting systems to access and manipulate
                         textual representations of Web resources using a uniform and predefined set of stateless operations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System under test.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a>3. Overview</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_goals"><a class="anchor" href="#_goals"></a>3.1. Goals</h3>
<div class="paragraph">
<p>Conformance testing is used as the basis of product and system certification, and has the following goals:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Tendering</em>: enable tendering authorities to state formal criteria for compliance in tenders</p>
</li>
<li>
<p><em>Protection for solution developers</em>: enables bona fide vendors and other developers to prove the quality of their solutions compared to other offerings claiming conformance</p>
</li>
<li>
<p><em>Protection for procurement</em>: provides a way of ensuring that purchased solutions can be contractually guaranteed to perform in certain ways</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These needs imply four kinds of stakeholder:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Platform Specifier(s) - openEHR International and others (e.g. SNOMED International) publish open specifications used by solution builders as well as conformance criteria and testing framework for assessment purposes;</p>
</li>
<li>
<p>Customer organisations procuring solutions based on the platform specifications;</p>
</li>
<li>
<p>Solution Builders (including product vendors, in-house, etc) whose solutions are claimed to be based on the specifications;</p>
</li>
<li>
<p>Conformance Assessment Agency - independent assessors of conformance of concrete systems or products to the conformance criteria published by the platform specifier(s).</p>
</li>
</ul>
</div>
<div id="conformance_framework-use_cases" class="imageblock text-center text-center">
<div class="content">
<img src="guide/diagrams/conformance_framework-use_cases.svg" alt="conformance framework use cases">
</div>
<div class="title">Figure 1. Stakeholders and Use Cases</div>
</div>
<div class="paragraph">
<p>The confidence of procuring organisations in the overall platform solutions market relies on the availablility of formal conformance criteria, as well as guides and materials for concretely performing conformance assessment. Assessment may be performed in-house on both procurement and vendor side, but in a more mature market will also be performed independently by dedicated assessment organisation(s).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conformance_framework"><a class="anchor" href="#_conformance_framework"></a>4. Conformance Framework</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_artefacts"><a class="anchor" href="#_artefacts"></a>4.1. Artefacts</h3>
<div class="paragraph">
<p>The purpose of the openEHR Conformance Specifications is to provide a framework and methodology for performing conformance testing of openEHR-based systems and products to the intended specifications.</p>
</div>
<div class="paragraph">
<p>The following diagram illustrates the openEHR Conformance Specifications and their relationship with the primary (technology-independent) and ITS (technology-specific) specifications.</p>
</div>
<div id="conformance_framework-artefacts" class="imageblock text-center text-center">
<div class="content">
<img src="guide/diagrams/conformance_framework-artefacts.svg" alt="conformance framework artefacts">
</div>
<div class="title">Figure 2. Conformance-related specifications</div>
</div>
</div>
<div class="sect2">
<h3 id="_product_categories"><a class="anchor" href="#_product_categories"></a>4.2. Product Categories</h3>
<div class="paragraph">
<p>There are assumed to be three categories of testable artefact for the purposes of Conformance testing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>API-exposing (Platform) Components</strong> - components exposing a service API, including:</p>
<div class="ulist">
<ul>
<li>
<p>information-related platform components, such as Clinical Data Repository, Demographic repository;</p>
</li>
<li>
<p>reference data / knowledge-related components, e.g. Terminology Service, clinical model repository;</p>
</li>
<li>
<p>other services, e.g. Clinical Decision Support;</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>API-using Components (Platform clients)</strong> - components using a service API, including any application, tool or system that accesses APIs of a particular platform component;</p>
</li>
<li>
<p><strong>Tools</strong> - standalone applications usually designed to perform a specific task, e.g. building of a certain type of models.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Conformance for these categories is assessed as follows.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 42.8571%;">
<col style="width: 42.8572%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Category</th>
<th class="tableblock halign-left valign-top">What is being assessed</th>
<th class="tableblock halign-left valign-top">How assessed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Platform Component</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conformance of the <em>implemented APIs</em> to the published APIs, in a concrete API technology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simulated API calling test cases</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Platform client</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conformance of the capability of the client to correctly connect and call into an API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simulated service testing; functional testing against reference platform implementation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tool</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conformance of artefacts created / modified by the tool to the artefact specifications</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Functional round-trip testing.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_platform_test_framework"><a class="anchor" href="#_platform_test_framework"></a>4.3. Platform Test Framework</h3>
<div class="paragraph">
<p>What can be tested are the operations per interface of the SM. In the Conformance Specification there should be a criteria that tests at least one success case, one case for each possible error, and if there are border cases, one test for each border case. This is abstract, is what to test but doesn&#8217;t specify how to test. In the Testing Technical Framework it is specified how to test and which specific data sets to use.</p>
</div>
<div id="conformance_framework-test_items" class="imageblock text-center text-center">
<div class="content">
<img src="guide/diagrams/conformance_framework-test_items.svg" alt="conformance framework test items">
</div>
<div class="title">Figure 3. Test items</div>
</div>
<div class="paragraph">
<p>Each product category should offer a subset of the interfaces specified in the SM. Then those 'contracts' are used to verify conformance on each category. Each product category is associated with one or more 'components' of the SM which means they provide the interfaces defined by those components.</p>
</div>
<div id="conformance_framework-test_items_per_cat" class="imageblock text-center text-center">
<div class="content">
<img src="guide/diagrams/conformance_framework-test_items_per_cat.svg" alt="conformance framework test items per cat">
</div>
<div class="title">Figure 4. Test items associated with products</div>
</div>
</div>
<div class="sect2">
<h3 id="_test_framework_implementation_for_a_technology"><a class="anchor" href="#_test_framework_implementation_for_a_technology"></a>4.4. Test Framework Implementation for a Technology</h3>
<div class="paragraph">
<p>xxx</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_evaluation_environment"><a class="anchor" href="#_evaluation_environment"></a>5. Evaluation Environment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Conformance evaluation relies on a normative idea of systems that may be tested against a set of specifications on which they claim to be based. This section describes the assumptions that are made about systems that may be tested according to this conformance specification.</p>
</div>
<div class="sect2">
<h3 id="_system_under_test_sut"><a class="anchor" href="#_system_under_test_sut"></a>5.1. System Under Test (SUT)</h3>
<div class="sect3">
<h4 id="_general_description"><a class="anchor" href="#_general_description"></a>5.1.1. General description</h4>
<div class="paragraph">
<p>The totality of what is provided for conformance testing according to this specification is known as the <em>system under test</em>, or SUT. It is assumed that any such system has a <em>platform</em> architecture, consisting of one or more <em>product components</em> that are exposed via corresponding <em>native service APIs</em>, and that the component semantics and API are based on published openEHR specifications.</p>
</div>
<div class="paragraph">
<p>It is also assumed that native APIs are network-accessible via one or more communications protocols, each with an appropriate <em>protocol adapter</em>. Such protocols include the text-based, such as <a href="https://en.wikipedia.org/wiki/SOAP" target="_blank" rel="noopener">SOAP/WSDL</a> and <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener">REST</a>, as well as the many binary protocols, including <a href="https://github.com/google/protobuf/wiki" target="_blank" rel="noopener">Google Protocol Buffers</a>, <a href="https://thrift.apache.org" target="_blank" rel="noopener">Apache Thrift</a>, <a href="https://avro.apache.org" target="_blank" rel="noopener">Avro</a>, <a href="https://kafka.apache.org" target="_blank" rel="noopener">Kafka</a>, <a href="https://zeroc.com/products/ice#what-is-ice" target="_blank" rel="noopener">ZeroC ICE</a>, and <a href="https://www.amqp.org/" target="_blank" rel="noopener">Advanced Message Queueing Protocol (AMPQ)</a>. (At an implementation level, the native API of each software component is of course visible e.g. a Java .jar, .Net assembly, Linux .so library etc, but conformance testing does not address such interfaces). The general model is shown below.</p>
</div>
<div id="sut_model" class="imageblock text-center text-center">
<div class="content">
<img src="guide/diagrams/sut_model.svg" alt="sut model">
</div>
<div class="title">Figure 5. Component Model</div>
</div>
<div class="paragraph">
<p>In the above, there are two <em>test targets</em> for any given component in the SUT, i.e. two aspects of a component for which conformance is to be determined:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Semantic: the <em>formal, transactional semantics</em> of the component&#8217;s exposed functions and procedures when called;</p>
</li>
<li>
<p>Interface(s): the concrete interfaces provided by the component.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The former needs to be tested to determine if the component does what it is functionally intended to do, and is documented in terms of abstract interface definitions that include pre-conditions, post-conditions and exceptions. The latter is tested to determine that the concrete means of accessing the component provided by its developer do indeed provide that access correctly, and conform to accepted norms of the relevant kind of service interface (i.e. REST, AMPQ etc).</p>
</div>
<div class="paragraph">
<p>To establish a common basis for naming and describing components of an openEHR Platform, the <a href="https://specifications.openehr.org/releases/SM/latest/openehr_platform.html" target="_blank" rel="noopener">openEHR Platform Abstract Service Model</a> may be used. This defines a standard set of openEHR component names along with definitions of the transactional semantics of each component, i.e. the 'semantic' test target referred to above. A product&#8217;s own component names need not correspond to the openEHR component names of course, but for the purpose of testing the logical mapping of the two should be provided by a developer.</p>
</div>
<div class="paragraph">
<p>Each of the concrete protocol interfaces is defined by its own specification, for example the <a href="https://github.com/openEHR/specifications-ITS-REST" target="_blank" rel="noopener">openEHR REST API specification</a>, and may be regarded as a product component, for which conformance testing may be conducted. No assumption is made that any given product supports any particular protocol(s), although a minimal set of REST APIs on components such as the System Log is likely to be useful for testing purposes.</p>
</div>
<div class="paragraph">
<p>The following figure illustrates a typical platform product, consisting of components and protocol interfaces as described above. Part or all of the platform (back-end) of such a product is provided for testing according to this specification.</p>
</div>
<div id="conformance_sut" class="imageblock text-center text-center">
<div class="content">
<img src="guide/diagrams/conformance_sut.svg" alt="conformance sut">
</div>
<div class="title">Figure 6. Conformance System Under Test</div>
</div>
<div class="paragraph">
<p>As a consequence of the above, the conformance test schedule defined by this specification consists of tests for both native component semantics, and for whichever concrete protocol interfaces are provided. From a practical point of view, the testing is always conducted via the concrete interfaces (i.e. REST, SOAP, protobuf etc) as appropriate to the particular product. Thus, for a product that implements the openEHR REST APIs, the SUT environment is of the following form:</p>
</div>
<div id="conformance_sut_rest" class="imageblock text-center text-center">
<div class="content">
<img src="guide/diagrams/conformance_sut_rest.svg" alt="conformance sut rest">
</div>
<div class="title">Figure 7. System Under Test - REST</div>
</div>
<div class="paragraph">
<p>In the test environment, a <em>test application</em> with the appropriate protocol client(s) is used to exercise the SUT. A system log viewer and a data viewer may be provided as part of the product in order to facilitate human interaction with the system, but these are not obligatory.</p>
</div>
<div class="paragraph">
<p>In the same fashion, the SUT for a product that exposes APIs using Google Protocol Buffers might look as follows.</p>
</div>
<div id="conformance_sut_sut_protobuf" class="imageblock text-center text-center">
<div class="content">
<img src="guide/diagrams/conformance_sut_protobuf.svg" alt="conformance sut protobuf">
</div>
<div class="title">Figure 8. System Under Test - Protocol Buffers</div>
</div>
<div class="paragraph">
<p>Other combinations of components and protocols may of course occur in the SUT and testing applications.</p>
</div>
</div>
<div class="sect3">
<h4 id="_platform_abstract_service_model"><a class="anchor" href="#_platform_abstract_service_model"></a>5.1.2. Platform Abstract Service Model</h4>
<div class="paragraph">
<p>The formal transactional interface to a product&#8217;s openEHR components is specified by the <a href="https://specifications.openehr.org/releases/SM/latest/openehr_platform.html" target="_blank" rel="noopener">openEHR Platform Abstract Service Model</a>, which defines a set of services and for each component, as shown below.</p>
</div>
<div id="platform_definition" class="imageblock text-center text-center">
<div class="content">
<img src="https://specifications.openehr.org/releases/SM/latest/UML/diagrams/SM-platform_definition.svg" alt="SM platform definition">
</div>
<div class="title">Figure 9. Platform Abstract Service Model</div>
</div>
<div class="paragraph">
<p>The functions defined on these interfaces constitute the <em>functional conformance points</em> of this specification. For example, the conformance point for the logical 'create EHR' operation is defined by the functions <code><em>create_ehr()</em></code>, <code><em>create_ehr_with_id()</em></code>, <code><em>create_ehr_for_subject()</em></code>, <code><em>create_ehr_for_subject_with_id()</em></code> defined on the service interface <code>I_EHR_SERVICE</code> shown in the above diagram. Information conformance (i.e. conformance to the types stated in service call arguments and return values) is primarily defined by the openEHR specifications for the relevant components, i.e. RM (Reference Model) etc, however, a small number of service model-specific information structures are defined by the service specification.</p>
</div>
<div class="paragraph">
<p>Any given SUT is not assumed to implement all of these interfaces, or the underlying components. However, the components for which conformance is to be tested are assumed to be testable via the relevant interfaces above.</p>
</div>
<div class="paragraph">
<p>Real products may of course provide alternative forms of some services, e.g. System Log, Administrative interface and so on.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_manual_testing"><a class="anchor" href="#_manual_testing"></a>5.2. Manual Testing</h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect2">
<h3 id="_automated_testing"><a class="anchor" href="#_automated_testing"></a>5.3. Automated Testing</h3>
<div class="paragraph">
<p>Automated conformance testing is performed by the interaction of the openEHR CNF-test web service with a system under test. A test configuration indicates which conformance claims are to be tested (e.g. <code>functional=CORE; content=STANDARD+OPTIONS</code>), and appropriate sets of tests are executed. The result is a detailed test report, together with the highest conformance levels reached in the requested categories.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-01-03 20:02:57 UTC
</div>
</div>
</body>
</html>